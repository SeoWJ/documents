# RedHat Openstack 교육

- 김주효 강사 / juhyokim@nobreak.co.kr
- RedHat Openstack 16 version

## Day. 01

### 인프라 환경 구성요소
- P9 장표 참조
- bastion : 외부와 연결하는 관리용 시스템. 라우터 역할도 수행. 실습에서는 사실상 라우터라고 봐도 좋다.
- workstation : 오픈스택과는 상관없는 시스템. 평소 서버/시스템 관리하는 시스템이라고 봐도 됨. 평소 사용하는 노트북 같은거라 봐도 좋다. 보통 CLI 이기 때문에 GUI쓰고 싶을 때 이걸 쓰면 된다.
- director
    - 레드햇 오픈스택은 플랫환경이 아니라 계층구조로 구성된다.
    - undercloud : 디렉터 + 네트워크구성까지 언더클라우드라 본다.
    - 계층적으로 구성하는 이유는 오버클라우드라는 환경은 사용자에게 서비스를 제공하기 위한 환경. 이 서비스들을 하나하나 직접설치하기 귀찮으니까 디렉터를 통해 일괄적으로 배포/관리가 가능.
    - 플랫환경 : 디렉터 없이 오버클라우드 구성만 있는 환경.
- power : 계층구성을 할 때 필수. 이름 그대로 파워관리를 해줌. IPMI. 노드들을 원격으로 전원관리 가능하게 만들어 둔 시스템.
- utility : 도구 제공 시스템. 실습환경은 유틸리티 시스템에서 레드햇 idm이란 서비스 사용. 일반적으로는 IPA, LDAP라고 부름(외부 디렉토리 서비스). 오버클라우드에서 사용하는 DNS서비스도 여기에 정의된다.
- controller : 이름 그대로 오픈스택환경에서 클라우드 시스템을 관리하는 관리노드. 한대로 그려져있는데 실제 운영환경에서는 클러스터 구성이 필요하다. 저 서버하나 망가지면 박살난다.
- compute : 우리가 실행할 인스턴스.
- ceph0 : 스토리지 구성. 오픈스택 구성할 때 저장공간(스토리지)를 따로 구성하지 않아도 되긴하나, 실제 환경에서는 당연히 따로 구성한다. object스토리지. 3대 이상의 클러스터 구성(한대로만 구성하면 의미 없음). 
* blob : 블록단위로 스토리지를 저장하는 파티션이나 볼륨단위를 만들어 사용하는 방식. 가상머신의 데이터들을 파일 하나로 만들어 저장. 이걸 블롭스토리지라 한다.
* object storage : 나는 파일을 하나 저장하는데, 이를 여러 데이터 단위로 쪼개서 데이터 하나를 저장하는데도 단순 저장이 아니라 복제를 해서 여러 스토리지에 같은 데이터를 저장.

- 네트워크는 3종류. 익스터널, 매니지먼트, 프로비저닝
- 익스터널과 인터널을 라우터를 통해 연결할 것. 그 시스템과 연결된 네트워크를 External이라 한다.
- Management 네트워크
    - 스토리지 관리용 / api관리용 등으로 나뉨. VLAN으로 쪼개서 관리.
    - 오버클라우드끼리만 연결되어 있다. 관리는 컨트롤러를 통해 나머지를 관리하기에 같이 연결될 필요가 없다.
- Provisioning 네트워크
    - 디렉터 네트워크가 연결되어 있다.

### 네트워크 구성
- P11 장표
- 인터널, 테넌트(프로젝트) : 컴퓨트에만 연결되어 있음.
- 스토리지 매니지먼트 : 컴퓨트와 스토리지에만 연결되어 있음.
- 매니지먼트 : 전부다